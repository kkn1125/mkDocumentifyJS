<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
</script>
<script>
    'use strict';
    window.addEventListener('click', function (ev) {
        if (ev.target.id == 'navbarSideCollapse' || ev.target.className == 'navbar-toggler-icon') {
            document.querySelector('.offcanvas-collapse').classList.toggle('open');
        }
    });
    setTimeout(() => {
        if (document.querySelector('#dcPopup')) {
            document.querySelector('#dcPopup').addEventListener('click', (ev) => {
                let target = ev.target;
                if (target.tagName !== 'BUTTON' && target.id !== 'dcPopup' && target.tagName !== 'I')
                    return;
                let pop = document.querySelector('[data-dc-type="popup"]');
                if (pop.classList.contains('show')) {
                    pop.classList.remove('show');
                    pop.classList.add('hide');
                } else {
                    pop.classList.add('show');
                    pop.classList.remove('hide');
                }
            });
        }

        let tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        let tooltipList = '';
        setTimeout(() => {
            tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
                return new bootstrap.Tooltip(tooltipTriggerEl);
            })
        }, 500);
    });

    document.addEventListener('click', lineMoveHandler);

    function lineMoveHandler(ev) {
        let target = ev.target;
        let check = document.querySelector('.check');
        if (check) check.classList.remove('check');
        if (target.tagName !== 'A' || target.dataset.type !== 'lineNum') return;

        let lineNum = target.href.split('#')[1];
        let line = document.querySelector('#line-' + lineNum);
        line.scrollIntoView({
            behavior: "smooth",
            block: "center",
            inline: "nearest"
        });
        line.classList.add('mark-line', 'check');
        setTimeout(() => {
            line.classList.remove('mark-line')
        }, 10000);
    }
</script>